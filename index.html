<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Sample Page</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Open+Sans&display=swap" rel="stylesheet">

        <style>
            body{
                font-family: 'Montserrat', sans-serif;
            }
            .container-fluid {
                margin-top: 76px;
            }
            .item {
                border:#22263d double 1px;
                margin: 5px;
                text-align: center;
                background-color: white;
                font-family: 'Open Sans', sans-serif;
                padding: 3px;
            }
            img {
                width: 50px;
                height: 100px;
                display: block;
                margin: auto;
            }
            .sub-content{
                margin-top: 50px;
                margin-bottom: 10px;
            }
            .body{
                background-color: #c5cffc;
            }
            .add-item{
                background-color: black;
                border: black solid 2px;
            }
            #total-price{
                font-weight: bolder ;
                font-size: 14pt;
            }
            .shade{
                background-color: #90c0e0;
            }
        </style>
    </head>
    <body class="body">
        <header>
            <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
                <a class="navbar-brand" href="#">Nole Shop</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <a class="nav-item nav-link active" href="#">Home</a>
                    <a class="nav-item nav-link" href="about.html">About the Company</a>
                </div>
                </div>
            </nav>
        </header>
        <section class="container-fluid content">
            <h2 class="product-header"> Apparel: </h2>
            <div class="row items">
                <div class="col-sm item">
                    <img src="https://image.cnbcfm.com/api/v1/image/104878161-Screen-Shot-2017-12-04-at-2.11.16-PM.jpg?v=1529476928&w=720&h=405">
                    <span class="item-name">Boring Company Cap</span><br><br>
                    <span>Php </span><span class="item-price">200.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://ae01.alicdn.com/kf/H315d33ac0cc24cb9b1b6706ad69700c6Z/MUSKSMONK-II-T-shirt-elon-musk-elon-musk-smoking-smoke-smokes-weed-joint-blunt-elonmusk-tesla.jpg_640x640.jpg">
                    <span class="item-name">Elon Musk Smoking Meme T-Shirt</span><br>
                    <span>Php </span><span class="item-price">300.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://images-na.ssl-images-amazon.com/images/I/61F7zoVpcbL._AC_UX385_.jpg">
                    <span class="item-name">Elon Musk Go To Mars Meme T-Shirt</span><br>
                    <span>Php </span><span class="item-price">300.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQU-Hl32uHPg2gU-OLErd0dojgPkF4pHMxNDA&usqp=CAU">
                    <span class="item-name">Elon Musk Life is Too Short Quote T-Shirt</span><br>
                    <span>Php </span><span class="item-price">300.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://images-na.ssl-images-amazon.com/images/I/51fii4GiSeL._AC_UL1200_.jpg">
                    <span class="item-name">Elon Musk Smking Meme Hoodie</span><br>
                    <span>Php </span><span class="item-price">500.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://i.pinimg.com/564x/af/b1/74/afb1740056cd768dbfa6f789c3a9c514.jpg">
                    <span class="item-name">Occupy Mars Hoodie</span><br><br>
                    <span>Php </span><span class="item-price">500.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
            </div>
            <br>
            <h2 class="product-header"> Electronics: </h2>
            <div class="row items">
                <div class="col-sm item">
                    <img src="https://i.pinimg.com/originals/b6/1b/6b/b61b6b36773bac4a24902e9b4818aa66.png">
                    <span class="item-name">Tesla Desktop Supercharger</span><br>
                    <span>Php </span><span class="item-price">1000.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.nirs.org/wp-content/uploads/2015/05/powerwall_front_angle.jpg">
                    <span class="item-name">Tesla Powerwall (w/ Inverter)</span><br>
                    <span>Php </span><span class="item-price">15000.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/themes/custom/tesla_frontend/components/images/D-design_hero-2090x1800.jpg">
                    <span class="item-name">Tesla Solar Panel</span><br><br>
                    <span>Php </span><span class="item-price">7000.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.greentechmedia.com/assets/content/cache/made/assets/content/cache/remote/https_assets.greentechmedia.com/content/images/articles/powerwall_2_XL_500_500_80_s_c1.jpg">
                    <span class="item-name">Tesla Powerwall (w/o Inverter)</span><br>
                    <span>Php </span><span class="item-price">1200.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://i.pinimg.com/originals/5f/7d/3b/5f7d3b0221de6cfdc8dbf949864557d5.jpg">
                    <span class="item-name">Tesla Logo Watch</span><br><br>
                    <span>Php </span><span class="item-price">2000.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/CAR_ACCESSORIES/MODEL_S/CHARGING_ADAPTERS/1512830-00-A_0.jpg">
                    <span class="item-name">Tesla Charger Kit</span><br><br>
                    <span>Php </span><span class="item-price">600.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
            </div>

            <br>
            <h2 class="product-header"> Car Accessories: </h2>
            <div class="row items">
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/CAR_ACCESSORIES/MODEL_S/WHEELS_TIRES/1448634-00-A_0.jpg">
                    <span class="item-name">Slipstream Wheel and Winter Tire Package</span><br>
                    <span>Php </span><span class="item-price">3000.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/CAR_ACCESSORIES/MODEL_S/INTERIOR/1019290-00-B_0.jpg">
                    <span class="item-name">All-Weather Mats for Tesla Model S</span><br>
                    <span>Php </span><span class="item-price">900.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/CAR_ACCESSORIES/MODEL_S/INTERIOR/1102893-00-A_0.jpg">
                    <span class="item-name">Roadside Safety Kit</span><br><br>
                    <span>Php </span><span class="item-price">500.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/CAR_ACCESSORIES/MODEL_S/WHEELS_TIRES/1133009-00-A_0.jpg">
                    <span class="item-name">Tire Repair Kit</span><br><br>
                    <span>Php </span><span class="item-price">1100.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/CAR_ACCESSORIES/MODEL_S/WHEELS_TIRES/1107992-00-A_0.jpg">
                    <span class="item-name">Tire Repair Sealant</span><br><br>
                    <span>Php </span><span class="item-price">500.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/CAR_ACCESSORIES/MODEL_S/EXTERIOR/1494684-00-A_0.jpg">
                    <span class="item-name">Roof Rack For Tesla Model S</span><br>
                    <span>Php </span><span class="item-price">5000.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
            </div>

            <br>
            <h2 class="product-header"> Miscellaneous: </h2>
            <div class="row items">
                <div class="col-sm item">
                    <img src="https://www.cnet.com/a/img/YxvGG0yXDbtbApx2XDtnUvQDOck=/1200x630/2018/01/26/acff5cc9-37d3-4986-a720-9acf1214ca39/boringcompanyflamethrower.jpg">
                    <span class="item-name">Boring Company Flamethrower</span><br>
                    <span>Php </span><span class="item-price">25000.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://cdn.vox-cdn.com/thumbor/G_w4Nyo9IJx5q5xa5E92vJCVyUQ=/21x0:539x345/1200x800/filters:focal(21x0:539x345)/cdn.vox-cdn.com/assets/3727699/Dogecoin_logo.png">
                    <span class="item-name">1 Dogecoin</span><br><br>
                    <span>Php </span><span class="item-price">17.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/LIFESTYLE/ACCESSORIES_COLLECTIBLES/COLLECTIBLES/1524001-00-A_0.jpg">
                    <span class="item-name">Diecast Tesla Roadster</span><br><br>
                    <span>Php </span><span class="item-price">5000.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/LIFESTYLE/ACCESSORIES_COLLECTIBLES/DRINKWARE/100045802_0.jpg">
                    <span class="item-name">Tesla Stainless Steel Bottle</span><br><br>
                    <span>Php </span><span class="item-price">1200.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/LIFESTYLE/ACCESSORIES_COLLECTIBLES/MISCELLANEOUS/1616115-00-A_4.jpg">
                    <span class="item-name">Tesla Umbrella</span><br><br>
                    <span>Php </span><span class="item-price">2500.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
                <div class="col-sm item">
                    <img src="https://www.tesla.com/ns_videos/commerce/content/dam/tesla/LIFESTYLE/ACCESSORIES_COLLECTIBLES/COLLECTIBLES/1474970-00-A_0.jpg">
                    <span class="item-name">Diecast Tesla Semi</span><br><br>
                    <span>Php </span><span class="item-price">5000.00</span>
                    <br>
                    <button class="btn btn-primary add-item" type="button">Add to Cart</button>
                </div>
            </div>
        </section>

        <section class="container fluid sub-content">
            <div class="row">
                <div class="col-sm-6">
                    <h2>Shopping Cart</h2>
                    <table class= " table table-info shop-cart" id="shopCart">
                        <tr class="shade">
                            <td id="total-price"> Total: </td>
                        </tr>
                    </table>
                </div>
                <div class="col-sm-6">
                    <h2> Delivery Details</h2>
                    <form action="http://savantandsparktest.ml/checkout.php" method="POST">
                        <label for="name">Name</label>
                        <input type="text" id="name" class="form-control" name="cust_name">
                        <label for="email">Email</label>
                        <input type="text" id="email" class="form-control" name="cust_email">
                        <label for="address">Delivery Address</label>
                        <input type="text" id="address" class="form-control" name="cust_addr">
                        <br>
                        <input type="hidden" id="orders" name="cust_order" value="">
                        <input type="submit" value="Place Order" class="btn btn-primary">
                    </form>
                </div>
            </div>
        </section>

        <script>
            var productArray = [];

            var addButtons = document.getElementsByClassName("add-item");
            for (var i=0; i<addButtons.length; i++) {
                var button = addButtons[i];
                button.addEventListener("click", addToCart);
            }
            
            function addToCart(event) {
                var product={prod_name:"",prod_price:""};
                var button = event.target;
                var item = button.parentElement;
                var itemName = item.getElementsByClassName("item-name")[0].innerHTML;
                var itemPrice = item.getElementsByClassName("item-price")[0].innerHTML;
                product.prod_name = itemName;
                product.prod_price = parseFloat(itemPrice);
                console.log(product);
                productArray.push(product);
                console.log(productArray);
                addRow(itemName, itemPrice);
                newTotal(itemName, itemPrice);
                hiddenData();
            }

            function addRow(itemName, itemPrice) {
                var newRow = document.createElement("tr");
                var newRowContent = `<div><strong><span id="test" class="cart-item-name">${itemName}</span></strong><br>
                            <span class="cart-item-price">Php ${itemPrice}</span>
                            <button class="btn btn-danger" type="button" style="float:right; margin:2px">Remove</button></div>`
                newRow.innerHTML = newRowContent;
                var cartItems = document.getElementsByClassName("shop-cart")[0];
                cartItems.append(newRow)
                newRow.getElementsByClassName("btn-danger")[0].addEventListener('click', removeFromCart);
            }

            function newTotal(itemName, itemPrice) {
                var sum = 0;
                for (var i = 0; i<productArray.length; i++) {
                    sum += (productArray[i].prod_price);
                    console.log(sum);
                    document.getElementById("total-price").innerHTML = "Total: " + "Php " + sum;
                }
            }

            var removeButtons = document.getElementsByClassName("btn-danger");
            for (i=0; i<removeButtons.length; i++){
                var button = removeButtons[i];
                button.addEventListener("click", removeFromCart);
            }
            function checkTotal(){
                if (productArray.length==0){
                    document.getElementById("total-price").innerHTML = "Total: " + "Php " + 0;
                }
                else{
                    newTotal(); 
                }
            }
            function removeFromCart(event) {
                var button = event.target;
                var check = button.parentElement;
                var name = check.getElementsByClassName("cart-item-name")[0].innerHTML;
                console.log(name);
                for (i=0;i<productArray.length;i++) {
                    if (productArray[i].prod_name.indexOf(name)>-1){
                        productArray.splice(i,1);
                        console.log(productArray);
                        break;
                    }
                    else{}
                }
                button.parentElement.remove();
                newTotal();
                checkTotal();
                hiddenData();
            }

            function hiddenData() {
                    document.getElementById("orders").value = JSON.stringify(productArray);
                    none();
            }

            function none() {
                if (productArray.length==0){
                    document.getElementById("orders").value = "";
                }
            }

        </script>
    </body>
</html>
